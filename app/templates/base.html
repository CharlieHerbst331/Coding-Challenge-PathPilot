<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}PathPilot - User Journey Analysis{% endblock %}</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#4F46E5',
                        'primary-dark': '#4338CA',
                        'secondary': '#EC4899',
                        'secondary-dark': '#DB2777',
                        'neutral-50': '#F9FAFB',
                        'neutral-100': '#F3F4F6',
                        'neutral-200': '#E5E7EB',
                        'neutral-300': '#D1D5DB',
                        'neutral-400': '#9CA3AF',
                        'neutral-500': '#6B7280',
                        'neutral-600': '#4B5563',
                        'neutral-700': '#374151',
                        'neutral-800': '#1F2937',
                        'neutral-900': '#111827',
                        'success': '#10B981',
                        'warning': '#F59E0B',
                        'danger': '#EF4444',
                    }
                }
            }
        }
    </script>
    
    <!-- Custom CSS -->
    <style type="text/tailwindcss">
        .status-badge {
            @apply px-2 py-1 rounded-full text-xs font-medium;
        }
        .status-non-converted {
            @apply bg-neutral-100 text-neutral-700;
        }
        .status-attempted-conversion {
            @apply bg-blue-100 text-blue-700;
        }
        .status-converted {
            @apply bg-green-100 text-green-700;
        }
        .status-conversion-at-risk {
            @apply bg-yellow-100 text-yellow-700;
        }
        .status-churned {
            @apply bg-red-100 text-red-700;
        }
        
        .journey-timeline {
            @apply relative border-l-2 border-neutral-200 ml-3 pl-6 mb-8;
        }
        
        .timeline-item {
            @apply mb-8 relative;
        }
        
        .timeline-item::before {
            content: '';
            @apply absolute w-4 h-4 rounded-full bg-white border-2 border-primary -left-[30px] top-0;
        }
        
        .timeline-item-converted::before {
            @apply border-success bg-success bg-opacity-20;
        }
        
        .timeline-item-attempted-conversion::before {
            @apply border-primary bg-primary bg-opacity-20;
        }
        
        .timeline-item-conversion-at-risk::before {
            @apply border-warning bg-warning bg-opacity-20;
        }
        
        .timeline-item-churned::before {
            @apply border-danger bg-danger bg-opacity-20;
        }
    </style>
    
    <!-- Animation CSS -->
    <style>
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #4F46E5;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .fadeIn {
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        .bounce {
            animation: bounce 0.5s;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }
    </style>
    
    {% block extra_css %}{% endblock %}
</head>
<body class="bg-neutral-50 text-neutral-900 min-h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-white shadow">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex justify-between items-center">
                <a href="/" class="text-2xl font-bold text-primary flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                    </svg>
                    <span>PathPilot</span>
                </a>
                <nav class="flex space-x-6">
                    <a href="/" class="text-neutral-600 hover:text-primary font-medium">Home</a>
                    <a href="#" class="text-neutral-600 hover:text-primary font-medium">Journeys</a>
                    <a href="/analytics" class="text-neutral-600 hover:text-primary font-medium">Analytics</a>
                </nav>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="flex-grow">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            {% block content %}{% endblock %}
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="bg-white border-t border-neutral-200 py-4">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <p class="text-center text-sm text-neutral-500">
                &copy; 2024 PathPilot. All rights reserved.
            </p>
        </div>
    </footer>
    
    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/plotly.js-dist@2"></script>
    {% block scripts %}{% endblock %}
</body>
</html> 